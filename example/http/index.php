<?php

require "../../../../../vendor/autoload.php";

use onservice\CreateServer as CreateServer;
use onservice\services\Http as Http;

// create the server
$server = new CreateServer(	new Http() );


$server->http->resource('/{country}/*',function($urlPar,$requestPar){

		$html = 'First Directory';
		$html .= '<hr>';
		$html .= '<a href="second">next to second</a><br>';
		$html .= '<a href="image">next to image</a>';

		return array(
			'body'=>$html,
			'code'=>200,
			'message'=>'Ok'
		);
});



$server->http->resource('/image',function($urlPar,$requestPar){

		$html = 'First Directory';
		$html .= '<hr>';
		$html .= '<a href="second">next to second</a>';

		$img = "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";

		$img = base64_decode($img);

		return array(
			'body'=>$img,
			'code'=>200,
			'message'=>'Ok',
			'type'=>'image/png'
		);
});


$server->http->resource('/second',function($urlPar,$requestPar){


		return array(
			'body'=>'second',
			'code'=>200,
			'message'=>'Ok',
			'type'=>'text/html'
		);
});

